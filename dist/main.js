!function(e){var n={};function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(a,r,function(n){return e[n]}.bind(null,r));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=15)}([function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){e.exports=!t(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,n,t){"use strict";var a,r,i={},o=(r={},function(e){if(void 0===r[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}r[e]=n}return r[e]});function c(e,n){for(var t=[],a={},r=0;r<e.length;r++){var i=e[r],o=n.base?i[0]+n.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};a[o]?a[o].parts.push(c):t.push(a[o]={id:o,parts:[c]})}return t}function m(e,n){for(var t=0;t<e.length;t++){var a=e[t],r=i[a.id],o=0;if(r){for(r.refs++;o<r.parts.length;o++)r.parts[o](a.parts[o]);for(;o<a.parts.length;o++)r.parts.push(h(a.parts[o],n))}else{for(var c=[];o<a.parts.length;o++)c.push(h(a.parts[o],n));i[a.id]={id:a.id,refs:1,parts:c}}}}function u(e){var n=document.createElement("style");if(void 0===e.attributes.nonce){var a=t.nc;a&&(e.attributes.nonce=a)}if(Object.keys(e.attributes).forEach((function(t){n.setAttribute(t,e.attributes[t])})),"function"==typeof e.insert)e.insert(n);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var s,l=(s=[],function(e,n){return s[e]=n,s.filter(Boolean).join("\n")});function d(e,n,t,a){var r=t?"":a.css;if(e.styleSheet)e.styleSheet.cssText=l(n,r);else{var i=document.createTextNode(r),o=e.childNodes;o[n]&&e.removeChild(o[n]),o.length?e.insertBefore(i,o[n]):e.appendChild(i)}}var p=null,g=0;function h(e,n){var t,a,r;if(n.singleton){var i=g++;t=p=p||u(n),a=d.bind(null,t,i,!1),r=d.bind(null,t,i,!0)}else t=u(n),a=function(e,n,t){var a=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),i&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}.bind(null,t,n),r=function(){!function(e){null!==e.parentNode&&e.parentNode.removeChild(e)}(t)};return a(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;a(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).attributes="object"==typeof n.attributes?n.attributes:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var t=c(e,n);return m(t,n),function(e){for(var a=[],r=0;r<t.length;r++){var o=t[r],u=i[o.id];u&&(u.refs--,a.push(u))}e&&m(c(e,n),n);for(var s=0;s<a.length;s++){var l=a[s];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete i[l.id]}}}}},function(e,n,t){var a=t(9).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||t(1)&&a(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n,t){var a=t(6);"string"==typeof a&&(a=[[e.i,a,""]]);t(2)(a,{insert:"head",singleton:!1}),a.locals&&(e.exports=a.locals)},function(e,n,t){},function(e,n,t){var a=t(8);"string"==typeof a&&(a=[[e.i,a,""]]);t(2)(a,{insert:"head",singleton:!1}),a.locals&&(e.exports=a.locals)},function(e,n,t){},function(e,n,t){var a=t(10),r=t(11),i=t(14),o=Object.defineProperty;n.f=t(1)?Object.defineProperty:function(e,n,t){if(a(e),n=i(n,!0),a(t),r)try{return o(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var a=t(0);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,n,t){e.exports=!t(1)&&!t(4)((function(){return 7!=Object.defineProperty(t(12)("div"),"a",{get:function(){return 7}}).a}))},function(e,n,t){var a=t(0),r=t(13).document,i=a(r)&&a(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n,t){var a=t(0);e.exports=function(e,n){if(!a(e))return e;var t,r;if(n&&"function"==typeof(t=e.toString)&&!a(r=t.call(e)))return r;if("function"==typeof(t=e.valueOf)&&!a(r=t.call(e)))return r;if(!n&&"function"==typeof(t=e.toString)&&!a(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,n,t){"use strict";t.r(n),t(5),t(7);var a={},r={},i="507aee803d5a35c77ef11a924ce9d04d9041aaf25398cd6643ef145f8f35f496",o="https://ipinfo.io/json?token=".concat("6a4f6150c8388c"),c="37fca4b1c0a061ceabdb06c08a838dc9",m="imperial",u=("https://api.openweathermap.org/data/2.5/forecast?units=".concat(m,"&APPID=").concat(c,"&q=").concat("Saint Petersburg","&lang=").concat("en"),"https://api.openweathermap.org/data/2.5/forecast?units=".concat(m,"&APPID=").concat(c)),s="672546f90ce445a5b5f17943fe5a0553",l=("https://api.opencagedata.com/geocode/v1/json?key=".concat(s,"&q=").concat("Нью Йорк","&language=").concat("ru","&pretty=1"),"pk.eyJ1IjoiZGlub3NhdnIiLCJhIjoiY2s0OTF6MXhnMDB3ZDNucW9nOXFoZHdzNiJ9.xZqvImg8mDEyLpgqwEyKTA"),d=document.getElementById("body"),p=document.getElementById("outputError"),g=(document.getElementById("btnSendTownName"),document.getElementById("inputNameTown"),document.getElementById("dateTodayTime"),document.getElementById("weatherFiveDays"),document.getElementById("btnRefresh"),document.getElementById("btnVoice"),{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),h={weekday:"long"},y={EN:{placeholder:"Search city",weatherTodayDetails__title:"OVERCAST",feelLike:"FEELS LIKE",wind:"WIND",humidity:"HUMIDITY",latitude:"Latitude",longitude:"Longitude"},RU:{placeholder:"Город",weatherTodayDetails__title:"OVERCAST",feelLike:"ОЩУЩАЕТСЯ",wind:"ВЕТЕР",humidity:"ВЛАЖНОСТЬ",latitude:"Широта",longitude:"Долгота"},BE:{placeholder:"Горад",weatherTodayDetails__title:"OVERCAST",feelLike:"АДЧУВАЦЦА",wind:"ВЕЦЕР",humidity:"ВІЛЬГОТНАСЦЬ",latitude:"Шыраты",longitude:"Даўгата"}},f={200:{en:"thunderstorm with light rain",ru:"гроза с небольшим дождем",be:"навальніца з невялікім дажджом"},201:{en:"thunderstorm with rain",ru:"гроза с дождем",be:"навальніца з дажджом"},202:{en:"thunderstorm with heavy rain",ru:"гроза с проливным дождем",be:"навальніца з моцным дажджом"},210:{en:"light thunderstorm",ru:"легкая гроза",be:"лёгкая навальніца"},211:{en:"thunderstorm",ru:"гроза",be:"навальніца"},212:{en:"heavy thunderstorm",ru:"сильная гроза",be:"моцная навальніца"},221:{en:"ragged thunderstorm",ru:"рваная гроза",be:"ірваная навальніца"},230:{en:"thunderstorm with light drizzle",ru:"гроза с моросящим дождем",be:"навальніца пры невялікім дожджыку"},231:{en:"thunderstorm with drizzle",ru:"Моросящий дождь",be:"навальніца з кароткачасовымі ападкамі"},232:{en:"thunderstorm with heavy drizzle",ru:"гроза с сильным моросящим дождем",be:"навальніца з моцнай моцай"},300:{en:"light intensity drizzle",ru:"Моросить",be:"кароткачасовы дождж"},301:{en:"drizzle",ru:"моросящий дождь",be:"імжа"},302:{en:"heavy intensity drizzle",ru:"интенсивный моросящий дождь",be:"кароткачасовая імзея"},310:{en:"light intensity drizzle rain",ru:"Моросящий дождь сильной интенсивности",be:"Лёгкі дождж"},311:{en:"drizzle rain",ru:"морось и дождь",be:"дождж з дожджыкам"},312:{en:"heavy intensity drizzle rain",ru:"сильный ливень и дождь",be:"моцны дождж з дожджыкам "},313:{en:"shower rain and drizzle",ru:"моросящий дождь",be:"дождж і дождж"},314:{en:"heavy shower rain and drizzle",ru:"сильный ливень и дождь",be:"моцны дождж і дождж"},321:{en:"shower drizzle",ru:"моросящий дождь",be:"кароткачасовы душ"},500:{en:"light rain",ru:"легкий дождь",be:"невялікі дождж"},501:{en:"moderate rain",ru:"умеренный дождь",be:"ўмераны дождж"},502:{en:"heavy intensity rain",ru:"сильный дождь",be:"моцны дождж"},503:{en:"very heavy rain",ru:"очень сильный дождь",be:"вельмі моцны дождж"},504:{en:"extreme rain",ru:"экстремальный дождь",be:"моцны дождж"},511:{en:"freezing rain",ru:"холодный дождь",be:"ледзяны дождж"},520:{en:"light intensity shower rain",ru:"легкий дождь",be:"лёгкі дождж з дажджом"},521:{en:"shower rain",ru:"дождь ливень",be:"лівень"},522:{en:"heavy intensity shower rain",ru:"сильный ливневый дождь",be:"моцны дождж з дажджом"},531:{en:"ragged shower rain",ru:"рваный дождь",be:"ірваны дождж з дажджом"},600:{en:"light snow",ru:"легкий снег",be:"невялікі снег"},601:{en:"Snow",ru:"Снег",be:"Снег"},602:{en:"Heavy snow",ru:"Снегопад",be:"Моцны снег"},611:{en:"Sleet",ru:"Мокрый",be:"Мокры снег"},612:{en:"Light shower sleet",ru:"Легкий душевой каблук",be:"Лёгкі мокры снег"},613:{en:"Shower sleet",ru:"Душ со снегом",be:"Душ мокры снег"},615:{en:"Light rain and snow",ru:"Небольшой дождь и снег",be:"Невялікі дождж і снег"},616:{en:"Rain and snow",ru:"Дождь и снег",be:"Дождж і снег"},620:{en:"Light shower snow",ru:"Легкий дождь снега",be:"Лёгкі снег"},621:{en:"Shower snow",ru:"Душ снега",be:"Снег з душам"},622:{en:"Heavy shower snow",ru:"Сильный ливень снега",be:"Моцны снег з душам"},701:{en:"mist",ru:"Туман",be:"туман"},711:{en:"Smoke",ru:"Дым",be:"Дым"},721:{en:"Haze",ru:"Мгла",be:"Дымка"},731:{en:"sand/ dust whirls",ru:"песок / пыль кружится",be:"пясок / пыл круціцца"},741:{en:"fog",ru:"туман",be:"туман"},751:{en:"sand",ru:"Песок",be:"пясок"},761:{en:"dust",ru:"Пыль",be:"пыл"},762:{en:"volcanic ash",ru:"вулканический пепел",be:"вулканічны попел"},771:{en:"squalls",ru:"шквалы",be:"шквал"},781:{en:"tornado",ru:"торнадо",be:"тарнада"},800:{en:"clear sky",ru:"чистое небо",be:"яснае неба"},801:{en:"few clouds",ru:"мало облаков",be:"некалькі аблокаў"},802:{en:"scattered clouds",ru:"рассеянные облака",be:"раскіданыя хмары"},803:{en:"broken clouds",ru:"облачность",be:"разбітыя хмары"},804:{en:"overcast clouds",ru:"пасмурные облака",be:"воблачна"}},b={AF:{name:"Afghanistan"},AX:{name:"Aland Islands"},AL:{name:"Albania"},DZ:{name:"Algeria"},AS:{name:"American Samoa"},AD:{name:"Andorra"},AO:{name:"Angola"},AI:{name:"Anguilla"},AQ:{name:"Antarctica"},AG:{name:"Antigua And Barbuda"},AR:{name:"Argentina"},AM:{name:"Armenia"},AW:{name:"Aruba"},AU:{name:"Australia"},AT:{name:"Austria"},AZ:{name:"Azerbaijan"},BS:{name:"Bahamas"},BH:{name:"Bahrain"},BD:{name:"Bangladesh"},BB:{name:"Barbados"},BY:{name:"Belarus"},BE:{name:"Belgium"},BZ:{name:"Belize"},BJ:{name:"Benin"},BM:{name:"Bermuda"},BT:{name:"Bhutan"},BO:{name:"Bolivia"},BA:{name:"Bosnia And Herzegovina"},BW:{name:"Botswana"},BV:{name:"Bouvet Island"},BR:{name:"Brazil"},IO:{name:"British Indian Ocean Territory"},BN:{name:"Brunei Darussalam"},BG:{name:"Bulgaria"},BF:{name:"Burkina Faso"},BI:{name:"Burundi"},KH:{name:"Cambodia"},CM:{name:"Cameroon"},CA:{name:"Canada"},CV:{name:"Cape Verde"},KY:{name:"Cayman Islands"},CF:{name:"Central African Republic"},TD:{name:"Chad"},CL:{name:"Chile"},CN:{name:"China"},CX:{name:"Christmas Island"},CC:{name:"Cocos (Keeling) Islands"},CO:{name:"Colombia"},KM:{name:"Comoros"},CG:{name:"Congo"},CD:{name:"Congo, Democratic Republic"},CK:{name:"Cook Islands"},CR:{name:"Costa Rica"},CI:{name:"Cote D'Ivoire"},HR:{name:"Croatia"},CU:{name:"Cuba"},CY:{name:"Cyprus"},CZ:{name:"Czech Republic"},DK:{name:"Denmark"},DJ:{name:"Djibouti"},DM:{name:"Dominica"},DO:{name:"Dominican Republic"},EC:{name:"Ecuador"},EG:{name:"Egypt"},SV:{name:"El Salvador"},GQ:{name:"Equatorial Guinea"},ER:{name:"Eritrea"},EE:{name:"Estonia"},ET:{name:"Ethiopia"},FK:{name:"Falkland Islands (Malvinas)"},FO:{name:"Faroe Islands"},FJ:{name:"Fiji"},FI:{name:"Finland"},FR:{name:"France"},GF:{name:"French Guiana"},PF:{name:"French Polynesia"},TF:{name:"French Southern Territories"},GA:{name:"Gabon"},GM:{name:"Gambia"},GE:{name:"Georgia"},DE:{name:"Germany"},GH:{name:"Ghana"},GI:{name:"Gibraltar"},GR:{name:"Greece"},GL:{name:"Greenland"},GD:{name:"Grenada"},GP:{name:"Guadeloupe"},GU:{name:"Guam"},GT:{name:"Guatemala"},GG:{name:"Guernsey"},GN:{name:"Guinea"},GW:{name:"Guinea-Bissau"},GY:{name:"Guyana"},HT:{name:"Haiti"},HM:{name:"Heard Island & Mcdonald Islands"},VA:{name:"Holy See (Vatican City State)"},HN:{name:"Honduras"},HK:{name:"Hong Kong"},HU:{name:"Hungary"},IS:{name:"Iceland"},IN:{name:"India"},ID:{name:"Indonesia"},IR:{name:"Iran, Islamic Republic Of"},IQ:{name:"Iraq"},IE:{name:"Ireland"},IM:{name:"Isle Of Man"},IL:{name:"Israel"},IT:{name:"Italy"},JM:{name:"Jamaica"},JP:{name:"Japan"},JE:{name:"Jersey"},JO:{name:"Jordan"},KZ:{name:"Kazakhstan"},KE:{name:"Kenya"},KI:{name:"Kiribati"},KR:{name:"Korea"},KW:{name:"Kuwait"},KG:{name:"Kyrgyzstan"},LA:{name:"Lao People's Democratic Republic"},LV:{name:"Latvia"},LB:{name:"Lebanon"},LS:{name:"Lesotho"},LR:{name:"Liberia"},LY:{name:"Libyan Arab Jamahiriya"},LI:{name:"Liechtenstein"},LT:{name:"Lithuania"},LU:{name:"Luxembourg"},MO:{name:"Macao"},MK:{name:"Macedonia"},MG:{name:"Madagascar"},MW:{name:"Malawi"},MY:{name:"Malaysia"},MV:{name:"Maldives"},ML:{name:"Mali"},MT:{name:"Malta"},MH:{name:"Marshall Islands"},MQ:{name:"Martinique"},MR:{name:"Mauritania"},MU:{name:"Mauritius"},YT:{name:"Mayotte"},MX:{name:"Mexico"},FM:{name:"Micronesia, Federated States Of"},MD:{name:"Moldova"},MC:{name:"Monaco"},MN:{name:"Mongolia"},ME:{name:"Montenegro"},MS:{name:"Montserrat"},MA:{name:"Morocco"},MZ:{name:"Mozambique"},MM:{name:"Myanmar"},NA:{name:"Namibia"},NR:{name:"Nauru"},NP:{name:"Nepal"},NL:{name:"Netherlands"},AN:{name:"Netherlands Antilles"},NC:{name:"New Caledonia"},NZ:{name:"New Zealand"},NI:{name:"Nicaragua"},NE:{name:"Niger"},NG:{name:"Nigeria"},NU:{name:"Niue"},NF:{name:"Norfolk Island"},MP:{name:"Northern Mariana Islands"},NO:{name:"Norway"},OM:{name:"Oman"},PK:{name:"Pakistan"},PW:{name:"Palau"},PS:{name:"Palestinian Territory, Occupied"},PA:{name:"Panama"},PG:{name:"Papua New Guinea"},PY:{name:"Paraguay"},PE:{name:"Peru"},PH:{name:"Philippines"},PN:{name:"Pitcairn"},PL:{name:"Poland"},PT:{name:"Portugal"},PR:{name:"Puerto Rico"},QA:{name:"Qatar"},RE:{name:"Reunion"},RO:{name:"Romania"},RU:{name:"Russian Federation"},RW:{name:"Rwanda"},BL:{name:"Saint Barthelemy"},SH:{name:"Saint Helena"},KN:{name:"Saint Kitts And Nevis"},LC:{name:"Saint Lucia"},MF:{name:"Saint Martin"},PM:{name:"Saint Pierre And Miquelon"},VC:{name:"Saint Vincent And Grenadines"},WS:{name:"Samoa"},SM:{name:"San Marino"},ST:{name:"Sao Tome And Principe"},SA:{name:"Saudi Arabia"},SN:{name:"Senegal"},RS:{name:"Serbia"},SC:{name:"Seychelles"},SL:{name:"Sierra Leone"},SG:{name:"Singapore"},SK:{name:"Slovakia"},SI:{name:"Slovenia"},SB:{name:"Solomon Islands"},SO:{name:"Somalia"},ZA:{name:"South Africa"},GS:{name:"South Georgia And Sandwich Isl."},ES:{name:"Spain"},LK:{name:"Sri Lanka"},SD:{name:"Sudan"},SR:{name:"Suriname"},SJ:{name:"Svalbard And Jan Mayen"},SZ:{name:"Swaziland"},SE:{name:"Sweden"},CH:{name:"Switzerland"},SY:{name:"Syrian Arab Republic"},TW:{name:"Taiwan"},TJ:{name:"Tajikistan"},TZ:{name:"Tanzania"},TH:{name:"Thailand"},TL:{name:"Timor-Leste"},TG:{name:"Togo"},TK:{name:"Tokelau"},TO:{name:"Tonga"},TT:{name:"Trinidad And Tobago"},TN:{name:"Tunisia"},TR:{name:"Turkey"},TM:{name:"Turkmenistan"},TC:{name:"Turks And Caicos Islands"},TV:{name:"Tuvalu"},UG:{name:"Uganda"},UA:{name:"Ukraine"},AE:{name:"United Arab Emirates"},GB:{name:"United Kingdom"},US:{name:"United States"},UM:{name:"United States Outlying Islands"},UY:{name:"Uruguay"},UZ:{name:"Uzbekistan"},VU:{name:"Vanuatu"},VE:{name:"Venezuela"},VN:{name:"Viet Nam"},VG:{name:"Virgin Islands, British"},VI:{name:"Virgin Islands, U.S."},WF:{name:"Wallis And Futuna"},EH:{name:"Western Sahara"},YE:{name:"Yemen"},ZM:{name:"Zambia"},ZW:{name:"Zimbabwe"}},T=(t(3),{getCurrentLang:function(){return localStorage.getItem("currentLang")},setCurrentLang:function(e){return localStorage.setItem("currentLang",e)},getCurrentTypeTemp:function(){return localStorage.getItem("currentTypeTemp")},setCurrentTypeTemp:function(e){return localStorage.setItem("currentTypeTemp",e)},getSearchNameCity:function(){return localStorage.getItem("searchNameCity")},setSearchNameCity:function(e){return localStorage.setItem("searchNameCity",e)},getFigureX:function(e){return localStorage.getItem("figure".concat(e,"X"))},setFigureX:function(e,n){return localStorage.setItem("figure".concat(e,"X"),n)}});function v(e){var n;return e<5&&(n="night"),5<=e&&e<10&&(n="morning"),10<=e&&e<19&&(n="day"),19<=e&&e<24&&(n="evening"),n}function L(e){var n="unknown";switch(e){case"dec":case"december":case"12":case"jan":case"january":case"1":case"feb":case"february":case"2":case 1:case 2:case 12:n="winter";break;case"mar":case"march":case"3":case"apr":case"april":case"4":case"may":case"5":case 3:case 4:case 5:n="spring";break;case"jun":case"june":case"6":case"jul":case"july":case"7":case"aug":case"august":case"8":case 6:case 7:case 8:n="summer";break;case"sep":case"september":case"9":case"oct":case"october":case"10":case"nov":case"november":case"11":case 9:case 10:case 11:n="autumn"}return n}function C(e){return Math.round(5*(e-32)/9)}a.currentLang=T.getCurrentLang(),null==a.currentLang&&(a.currentLang="EN");var w="";w=void 0!==a.currentLang?"".concat(a.currentLang.toLowerCase(),"-").concat(a.currentLang.toUpperCase()):"en-EN",w=null==a.currentLang?"en-EN":"".concat(a.currentLang.toLowerCase(),"-").concat(a.currentLang.toUpperCase()),a.currLangQuery=w;var N=N||webkitSpeechRecognition,E=E||webkitSpeechGrammarList,M=M||webkitSpeechRecognitionEvent,S=new N;a.currLangQuery=w,S.lang=w,S.interimResults=!1,S.maxAlternatives=1,S.onresult=function(e){var n=e.results.length-1,t=e.results[n][0].transcript;document.getElementById("inputNameTown").value=t},S.onspeechend=function(){S.stop(),document.getElementById("btnVoice").setAttribute("style","color: white")};var I=new Date,B=new Date(I),D=new Date(I),A=new Date(I);function x(e){return b[e].name}function k(e,n){fetch(e).then((function(e){return e.json()})).then((function(e){if(r.city=e.results[0].components.city,r.state=e.results[0].components.state,r.nameCountry=e.results[0].components.country,a.currentLang=T.getCurrentLang(),null==a.currentLang&&(a.currLang="EN"),w=null==a.currentLang?"en-EN":"".concat(a.currentLang.toLowerCase(),"-").concat(a.currentLang.toUpperCase()),a.currLangQuery=w,"cityNameLat"!==n){r.timeZone=parseInt(e.results[0].annotations.timezone.offset_string,10)/100;var t=new Date,i=t.getTime()+6e4*t.getTimezoneOffset(),o=new Date(i+36e5*r.timeZone);a.today=o.toLocaleDateString(w,g),B=new Date(o),D=new Date(o),A=new Date(o),B.setDate(B.getDate()+1),D.setDate(D.getDate()+2),A.setDate(A.getDate()+3),a.nextDay1=B.toLocaleDateString(w,h),a.nextDay2=D.toLocaleDateString(w,h),a.nextDay3=A.toLocaleDateString(w,h),a.season=L(o.getMonth()),a.timeOfDay=v(o.getHours())}return void 0===r.city&&(r.city=r.state),a.city=r.city,"cityNameLat"===n&&(r.cityNameLat=r.city),a.nameCountry=r.nameCountry,r.flag=!0,"cityNameLat"===n?r.city:r})).catch((function(e){r.flag=!0,a.error=e,p.innerHTML="error: ".concat(e)}))}function R(e){var n="https://api.unsplash.com/photos/random?query=town,".concat(encodeURIComponent(0<arguments.length&&void 0!==e?e:"London"),"&client_id=").concat(i);fetch(n).then((function(e){return e.json()})).then((function(e){var n=new Image;n.crossOrigin="Anonymous",localStorage.setItem("imageUrl",n.src),n.src?n.src=localStorage.getItem("imageUrl"):(n.src=e.urls.regular,localStorage.setItem("imageUrl",n.src),document.body.style.backgroundImage="url('".concat(n.src,"')"))})).catch((function(e){a.error=e,p.innerHTML="error: ".concat(e)}))}function H(e,n,t,a){var r=document.createElement("div");r.className="nextWeatherWeekDayBlock",e.appendChild(r);var i=document.createElement("div");i.className="nextWeatherWeekDay",void 0!==a&&(i.innerText="".concat(a)),r.appendChild(i);var o=document.createElement("span");o.id="nextTemperature".concat(document.getElementById("weatherNextThreeDays").childElementCount),o.className="nextTemperature",void 0!==n&&(o.innerHTML="".concat(n,"&deg;")),r.appendChild(o);var c=document.createElement("i");void 0!==t&&(c.className="nextWeatherIcon owf owf-".concat(t)),r.appendChild(c)}function G(e){!function(){for(var e=document.getElementById("body");e.firstChild;)e.removeChild(e.firstChild)}(),function(e){var n=document.createElement("div");n.id="wrapper",n.className="wrapper",document.getElementById("body").appendChild(n)}(),function(e,n){var t=document.createElement("div");t.id="controlBlock",t.className="controlBlock",document.getElementById(e).appendChild(t);var a=document.createElement("button");a.id="btnRefresh",a.className="btnControls btnRefresh",a.innerHTML='<i class="material-icons">autorenew</i>',t.appendChild(a);var r=document.createElement("button");r.id="btnLangEn",r.setAttribute("lang","EN"),r.innerText="EN",r.className="btnControls btnChangeLang btnLangEn",n.currentLang===r.getAttribute("lang")?r.classList.add("active"):r.classList.remove("active"),t.appendChild(r);var i=document.createElement("button");i.id="btnLangRu",i.setAttribute("lang","RU"),i.innerText="RU",i.className="btnControls btnChangeLang btnLangRu",n.currentLang===i.getAttribute("lang")?i.classList.add("active"):i.classList.remove("active"),t.appendChild(i);var o=document.createElement("button");o.id="btnLangBe",o.setAttribute("lang","BE"),o.innerText="BE",o.className="btnControls btnChangeLang btnLangBe",n.currentLang===o.getAttribute("lang")?o.classList.add("active"):o.classList.remove("active"),t.appendChild(o);var c=document.createElement("button");c.id="btnTempF",c.setAttribute("type","F"),c.className="btnControls btnChangeTemp btnTempF",c.innerHTML="&#8457;",n.currentTypeTemp===c.getAttribute("type")?c.classList.add("active"):c.classList.remove("active"),t.appendChild(c);var m=document.createElement("button");m.id="btnTempC",m.setAttribute("type","C"),m.className="btnControls btnChangeTemp btnTempC",m.innerHTML="&#8451;",n.currentTypeTemp===m.getAttribute("type")?m.classList.add("active"):m.classList.remove("active"),t.appendChild(m);var u=document.createElement("div");u.className="clear clear-typeTemp",c.insertAdjacentElement("beforebegin",u),function(e,n){var t=document.createElement("div");t.id="searchTownBlock",t.className="search-town-block",e.appendChild(t);var a=document.createElement("button");a.id="btnSendTownName",a.className="btnControls btnSendTownName",a.innerHTML='<i class="material-icons">search</i>',t.appendChild(a);var r=document.createElement("input");r.id="inputNameTown",r.type="text",r.setAttribute("placeholder",y[n.currentLang].placeholder),r.className="inputNameTown",t.appendChild(r);var i=document.createElement("button");i.id="btnVoice",i.className="btnControls btnVoice",i.innerHTML='<i class="material-icons">keyboard_voice</i>',t.appendChild(i);var o=document.createElement("div");o.className="clear clear-menu",t.insertAdjacentElement("beforebegin",o)}(t,n)}("wrapper",e),function(e,n){var t=document.createElement("div");t.id="weatherTodayBlock",t.className="weatherTodayBlock",document.getElementById(e).appendChild(t),function(e,n){var t=document.createElement("div");t.id="weatherTodayBlockHeader",t.className="weatherTodayBlockHeader",e.appendChild(t);var a=document.createElement("h1");a.id="weatherTodayTitle",a.className="weatherTodayTitle",void 0!==n&&(a.innerHTML="".concat(n.city,",<br/> ").concat(n.nameCountry)),t.appendChild(a);var r=document.createElement("span");r.id="dateTodayTime",r.className="dateTodayTime",void 0!==n&&(r.innerText=n.today),t.appendChild(r)}(t,n),function(e,n){var t=document.createElement("div");t.id="weatherTodayContent",t.className="weatherTodayContent",e.appendChild(t);var a=document.createElement("span");a.id="currTemperature",a.className="currTemperature",a.innerHTML="10&deg;",void 0!==n&&(a.innerHTML="".concat(n.temp,"&deg;")),t.appendChild(a);var r=document.createElement("i");r.id="currWeatherIcon",void 0!==n&&(r.className="currWeatherIcon owf owf-".concat(n.weatherCodeIcon)),t.appendChild(r);var i=document.createElement("div");i.id="weatherTodayDetails",i.className="weatherTodayDetails",void 0!==n&&(i.innerHTML="<span id = 'weatherTodayDetails__title' class='weatherTodayDetails__title'>".concat(n.weather.toUpperCase(),"</span><br/>\n    <span id='feelLike' class='feelLike'>").concat(y[n.currentLang].feelLike,"</span>: <span id='feelLikeTemp' class='feelLikeTemp'>").concat(n.feelLikeTemp,"°</span><br/>\n    <span id='wind' class='wind'>").concat(y[n.currentLang].wind,"</span>: ").concat(n.windSpeed," <span id='windSpeedType' class='windSpeedType'>m/s</span> <br/>\n    <span id='humidity' class='humidity'>").concat(y[n.currentLang].humidity,"</span>: ").concat(n.humidity,"%")),t.appendChild(i)}(t,n),function(e,n){var t=document.createElement("div");t.id="weatherNextThreeDays",t.className="weatherNextThreeDays",e.appendChild(t),H(t,n.nextTemp1,n.weatherCodeIcon1,n.nextDay1),H(t,n.nextTemp2,n.weatherCodeIcon2,n.nextDay2),H(t,n.nextTemp3,n.weatherCodeIcon3,n.nextDay3)}(t,n)}("wrapper",e),function(e,n){var t=document.createElement("div");t.id="map",t.className="map",document.getElementById(e).appendChild(t);var a=document.createElement("div");a.id="mapCoordsBlock",a.className="mapCoordsBlock",document.getElementById(e).appendChild(a);var r=document.createElement("span");r.className="coords";var i=function(e,n){var t=Math.abs(e),a=Math.floor(t),r=Math.floor(60*(t-a)),i=0<e?"":"-",o=Math.abs(n),c=Math.floor(o),m=Math.floor(60*(o-c)),u=0<n?"":"-";return{latitude:"".concat(i).concat(a,"°").concat(r,"'"),longitude:"".concat(u).concat(c,"°").concat(m,"'")}}(n.latitude,n.longitude);void 0!==n&&(r.innerHTML="".concat(y[n.currentLang].latitude,": ").concat(i.latitude,", ").concat(y[n.currentLang].longitude,": ").concat(i.longitude)),a.append(r)}("wrapper",e),function(e){var n=document.createElement("div");n.id="outputError",n.className="outputError",n.innerText="",document.getElementById(e).appendChild(n);var t=document.createElement("div");t.id="hintBlock",t.className="hint",t.innerText="",document.getElementById(e).appendChild(n)}("wrapper")}function F(){r.flag=!1,function(e){return fetch(e).then((function(e){return e.json()})).catch((function(e){a.error=e,p.innerHTML="error: ".concat(e)}))}("".concat(u,"&q=").concat(encodeURIComponent(r.cityNameLat),"&lang=").concat(a.currentLang,"}")).then((function(e){return k("https://api.opencagedata.com/geocode/v1/json?key=".concat(s,"&q=").concat(a.searchNameCity,"&language=").concat(a.currentLang.toLowerCase(),"&pretty=1")),e})).then((function(e){var n=function(e){var n=new Date(e.list[0].dt_txt).getHours(),t=Math.round((24-n+12)/3);a.city=e.city.name,a.latitude=e.city.coord.lat,a.longitude=e.city.coord.lon,a.weather=f[e.list[0].weather[0].id].en,"EN"===a.currentLang&&(a.weather=f[e.list[0].weather[0].id].en),"RU"===a.currentLang&&(a.weather=f[e.list[0].weather[0].id].ru),"BE"===a.currentLang&&(a.weather=f[e.list[0].weather[0].id].be),a.farenheitTemp=Math.round(e.list[0].main.temp),a.celciustTemp=C(e.list[0].main.temp),"C"===a.currentTypeTemp?a.temp=a.celciustTemp:a.temp=a.farenheitTemp,a.farenheitFeelLikeTemp=e.list[0].main.feels_like,a.celciusFeelLikeTemp=C(e.list[0].main.feels_like),"C"===a.currentTypeTemp?a.feelLikeTemp=a.celciusFeelLikeTemp:a.feelLikeTemp=a.farenheitFeelLikeTemp,a.windSpeed=function(e){return Math.round(1610.3*e/3600)}(e.list[0].wind.speed);var r=e.list[0].main.humidity;return a.humidity=r,a.weatherCodeIcon=e.list[0].weather[0].id,a.weatherCodeIcon1=e.list[t].weather[0].id,a.weatherCodeIcon2=e.list[t+8].weather[0].id,a.weatherCodeIcon3=e.list[t+16].weather[0].id,a.farenheitNextTemp1=Math.round(e.list[t].main.temp),a.farenheitNextTemp2=Math.round(e.list[t+8].main.temp),a.farenheitNextTemp3=Math.round(e.list[t+16].main.temp),a.celciusNextTemp1=C(e.list[t].main.temp),a.celciusNextTemp2=C(e.list[t+8].main.temp),a.celciusNextTemp3=C(e.list[t+16].main.temp),a.weatherMain=e.list[0].weather[0].main,"C"===a.currentTypeTemp?(a.nextTemp1=a.celciusNextTemp1,a.nextTemp2=a.celciusNextTemp2,a.nextTemp3=a.celciusNextTemp3):(a.nextTemp1=a.farenheitNextTemp1,a.nextTemp2=a.farenheitNextTemp2,a.nextTemp3=a.farenheitNextTemp3),a.nextDay1=B.toLocaleDateString(a.currLangQuery,h),a.nextDay2=D.toLocaleDateString(a.currLangQuery,h),a.nextDay3=A.toLocaleDateString(a.currLangQuery,h),a}(e);!function e(){!1===r.flag?window.setTimeout(e,100):(G(n),function(e,n){mapboxgl.accessToken=l,new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[e,n],zoom:9})}(a.longitude,a.latitude))}()})).catch((function(e){d.innerHTML="error: ".concat(e," <br/> ").concat(d.innerHTML)}))}function O(){!1===r.flag?window.setTimeout(O,100):F()}function P(e){var n=document.getElementById("inputNameTown"),t=e.target.id,i=e.target.parentElement.id,o="btnSendTownName"===t||"btnSendTownName"===i,c="Enter"===e.key&&"inputNameTown"===t;(o||c)&&(a.searchNameCity=n.value,r.flag=!1,k("https://api.opencagedata.com/geocode/v1/json?key=".concat(s,"&q=").concat(encodeURIComponent(a.searchNameCity),"&language=").concat(a.currentLang.toLowerCase,"&pretty=1"),"cityNameLat"),O(),T.setSearchNameCity(a.searchNameCity))}a.currentLang=T.getCurrentLang(),null==a.currentLang&&(a.currentLang="EN"),w=void 0!==a.currentLang?"".concat(a.currentLang.toLowerCase(),"-").concat(a.currentLang.toUpperCase()):"en-EN",a.currLangQuery=w,a.today=I.toLocaleDateString(w,g),a.todayOriginal=I,a.userTimeZone=(new Date).getTimezoneOffset(),a.season=L(I.getMonth()),a.timeOfDay=v(I.getHours()),B.setDate(B.getDate()+1),D.setDate(D.getDate()+2),A.setDate(A.getDate()+3),document.addEventListener("DOMContentLoaded",(function(){a.currentLang=T.getCurrentLang(),null==T.getCurrentLang()&&T.setCurrentLang("EN"),a.currentTypeTemp=T.getCurrentTypeTemp(),null==T.getCurrentTypeTemp()&&T.setCurrentTypeTemp("C"),a.searchNameCity=T.getSearchNameCity(),null==T.getSearchNameCity()&&T.setSearchNameCity(""),function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){var n={nameCity:e.city,nameCountry:x(e.country),codeCountry:e.country};return a.city=e.city,a.nameCountry=x(e.country),a.codeCountry=e.country,n})).catch((function(e){a.error=e,p.innerHTML="error: ".concat(e)}))}(o).then((function(e){a.searchNameCity=e.nameCity,r.flag=!1,k("https://api.opencagedata.com/geocode/v1/json?key=".concat(s,"&q=").concat(encodeURIComponent(e.nameCity),"&language=en&pretty=1"),"cityNameLat"),T.setSearchNameCity(e.nameCity),O(),R("".concat(a.season,",").concat(a.timeOfDay,",").concat(a.weatherMain,",").concat(a.weatherMain))})),setInterval((function(){var e=(new Date).toLocaleDateString("en-EN",g);document.getElementById("dateTodayTime").innerText=e}),6e4)})),document.addEventListener("click",(function(e){P(e),function(e){var n=e.target.id,t=e.target.parentElement.id;"btnRefresh"!==n&&"btnRefresh"!==t||R("".concat(a.season,",").concat(a.timeOfDay,",").concat(a.weatherMain))}(e),function(e){var n=document.getElementById("btnTempF"),t=document.getElementById("btnTempC"),r=document.getElementById("currTemperature"),i=document.getElementById("nextTemperature1"),o=document.getElementById("nextTemperature2"),c=document.getElementById("nextTemperature3"),m=e.target.id;"btnTempF"!==m&&"btnTempC"!==m||(t.classList.remove("active"),n.classList.remove("active"),e.target.classList.add("active"),"btnTempF"===m&&(r.innerHTML="".concat(a.farenheitTemp,"&deg;"),i.innerHTML="".concat(a.farenheitNextTemp1,"&deg;"),o.innerHTML="".concat(a.farenheitNextTemp2,"&deg;"),c.innerHTML="".concat(a.farenheitNextTemp3,"&deg;"),T.setCurrentTypeTemp("F")),"btnTempC"===m&&(r.innerHTML="".concat(a.celciustTemp,"&deg;"),i.innerHTML="".concat(a.celciusNextTemp1,"&deg;"),o.innerHTML="".concat(a.celciusNextTemp2,"&deg;"),c.innerHTML="".concat(a.celciusNextTemp3,"&deg;"),T.setCurrentTypeTemp("C")),location.reload())}(e),function(e){var n=document.getElementById("btnLangEn"),t=document.getElementById("btnLangRu"),r=document.getElementById("btnLangBe"),i=e.target.id;"btnLangEn"!==i&&"btnLangRu"!==i&&"btnLangBe"!==i||(n.classList.remove("active"),t.classList.remove("active"),r.classList.remove("active"),e.target.classList.add("active"),"btnLangEn"===i&&(a.currentLang="EN"),"btnLangRu"===i&&(a.currentLang="RU"),"btnLangBe"===i&&(a.currentLang="BE"),function(e){T.setCurrentLang(e.toUpperCase()),location.reload()}(a.currentLang))}(e),function(e){var n=e.target.id,t=e.target.parentElement.id,a=document.getElementById("btnVoice");"btnVoice"!==n&&"btnVoice"!==t||(S.start(),a.setAttribute("style","color: red"))}(e)})),document.addEventListener("keydown",(function(e){P(e)}))}]);